<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registre-se</title>
    <link rel="stylesheet" href="estilos/Registre.css">
    <link rel="shortcut icon" href="icon/prancheta.ico" type="image/x-icon">
</head>
<body>
    <main>
        <section id="menu">
            <h1>Registre-se <span id="titulo">J</span></h1>
            
            <form id="meuFormulario" autocomplete="on">
                <p>
                    <span id="icone">A</span>
                    <input type="text" name="usuario" id="iusuario" required placeholder=" Nome De Usuario" maxlength="30">
                </p>
                <p>
                    <span id="icone">E</span>
                    <input type="email" name="email" id="iemail" required placeholder="Email" maxlength="30">
                </p>
                <p>
                    <span id="icone">E</span>
                    <input type="email" name="conf_email" id="iconfemail" required placeholder="Confirme Seu Email" maxlength="30">
                </p>
                
                <p>
                    <span id="icone">K</span>
                    <input type="password" name="senha" id="isenha" required placeholder="Senha" minlength="8" maxlength="20">
                </p>
                <p>
                    <span id="icone">K</span>
                    <input type="password" name="conf_senha" id="iconfsenha" required placeholder="Confirme Sua Senha" minlength="8" maxlength="20">
                </p>

                <input id="voltar" type="button" value="Voltar " onclick="window.open('index.html','_self')">
                <span id="icone2" >l</span>

                <input id="cadastrar" type="submit" value="Cadastrar ">
                <span id="icone3" >A</span>
            </form>
        </section>
    </main>

    <script>
        const form = document.getElementById('meuFormulario');

        form.addEventListener('submit', function(event) {
            // Impede o envio padrão (recarregar página)
            event.preventDefault();

            // Pegando os valores para validar se são iguais
            const senha = document.getElementById('isenha').value;
            const confSenha = document.getElementById('iconfsenha').value;
            const email = document.getElementById('iemail').value;
            const confEmail = document.getElementById('iconfemail').value;

            // Validação extra: verificar se os campos de confirmação são iguais
            if (email !== confEmail) {
                alert("Os emails não coincidem!");
                return;
            }

            if (senha !== confSenha) {
                alert("As senhas não coincidem!");
                return;
            }

            // Se chegou aqui, todos os 'required' foram atendidos e as senhas batem
            window.location.href = 'Enviado.html';
        });
    </script>
</body>
</html>